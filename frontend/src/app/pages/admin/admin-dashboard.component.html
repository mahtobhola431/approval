<div class="dashboard">

  <!-- Top Bar -->
  <header class="topbar">
    <div>
      <h1>Admin Dashboard</h1>
      <p class="subtitle">Manage faculty approvals and users</p>
    </div>
    <button class="logout-btn" (click)="logout()">View Data</button>
  </header>

  <!-- Cards Row -->
  <div class="cards">
    <div class="card">
      <h2>{{ pendingFaculty.length }}</h2>
      <p>Pending Faculty</p>
    </div>

    <div class="card">
      <h2>{{ users.length }}</h2>
      <p>Total Users</p>
    </div>
  </div>

  <!-- Pending Faculty -->
  <section class="panel">
    <div class="panel-header">
      <h3>Pending Faculty Approval</h3>
    </div>

    <div class="panel-body">

      <p *ngIf="!loadingPending && pendingFaculty.length === 0" class="empty">
        ðŸŽ‰ No pending faculty approvals
      </p>

      <table *ngIf="!loadingPending && pendingFaculty.length > 0">
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th class="center">Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let f of pendingFaculty">
            <td>{{ f.name }}</td>
            <td>{{ f.email }}</td>
            <td class="center">
              <button class="approve-btn" (click)="approveFaculty(f.id)">
                Approve
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>

  <!-- All Users -->
  <section class="panel">
    <div class="panel-header">
      <h3>All Users</h3>
    </div>

    <div class="panel-body">



      <table *ngIf="!loadingUsers && users.length > 0">
        <thead>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th class="center">Role</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let u of users">
            <td>{{ u.name }}</td>
            <td>{{ u.email }}</td>
            <td class="center">
              <span class="role-badge" [class.admin]="u.role === 'ADMIN'"
                    [class.faculty]="u.role === 'FACULTY'"
                    [class.student]="u.role === 'STUDENT'">
                {{ u.role }}
              </span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>

</div>
